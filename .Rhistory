ggsave("inflation_graphic_1.png")
item_basket <- cpi_data %>%
filter(display_level == 0) %>%
select(item_name)
item_basket <- unique(item_basket)
item_basket <- t(item_basket)
item_basket
create_weights(item_basket)
create_weights(cpi_data, item_basket)
item_basket <- c("Used cars and trucks", "New vehicles", "New and used motor vehicles")
create_weights(cpi_data, item_basket)
sum(create_weights(cpi_data, item_basket))/2
item_basket <- c("All items", "New and used motor vehicles", "Housing", "Services less energy services", "Medical care services", "Shelter", "Food", "Energy")
cpi <- cpi_data %>%
filter(period != "M13") %>%
filter(seasonal == "S") %>%
arrange(date) %>%
group_by(item_name) %>%
mutate(Pchange1 = (value/lag(value)-1)) %>%
mutate(Wchange1 = (Pchange1*weight)/100) %>%
mutate(Wchange1a = (1 + Wchange1)^12 - 1) %>%
mutate(Pchange3 = (value/lag(value, 3)-1)) %>%
mutate(Wchange3 = (Pchange3*weight)/100) %>%
mutate(Wchange3a = (1 + Wchange3)^4 - 1) %>%
mutate(Pchange12 = (value/lag(value, 12)-1)) %>%
mutate(Wchange12 = (Pchange12*weight)/100)
cpi <- cpi %>%
filter(item_name %in% item_basket) %>%
filter(date == max(date))
cpi <- cpi %>%
ungroup() %>%
arrange(Wchange1) %>%
mutate(g2_item_name=factor(item_name, item_name))
MaxMonth <- format(cpi$date[1], "%B")
MaxYear <- format(cpi$date[1], "%Y")
################# GRAPHIC TWO: LAST MONTH'S CONTRIBUTORS ###########################
ggplot(cpi, aes(x=g2_item_name, y=Wchange1a)) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=0, yend=Wchange1a), color="red") +
geom_point( color="dark red", size=3) +
theme_light() +
coord_flip() +
xlab("") +
ylab("Percent") +
ggtitle(paste("Contribution to CPI for ", MaxMonth, ", ", MaxYear, ", ", "Annualized", sep="")) +
theme(
panel.grid.major.y = element_blank(),
plot.title.position = "plot",
panel.border = element_blank(),
axis.ticks.y = element_blank()
)
ggsave("inflation_graphic_2.png")
################# GRAPHIC THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="dark red", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#228b22", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="blue", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#8b0000;'>Last Month</span>, <span style = 'color:blue;'>Three Months</span>, and <span style = 'color:#228b22;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
cpi
################ GRAPHIC TWO: LAST MONTH'S CONTRIBUTORS ###########################
ggplot(cpi, aes(x=g2_item_name, y=Wchange1a)) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=0, yend=Wchange1a), color="red") +
geom_point( color="dark red", size=3) +
theme_light() +
coord_flip() +
xlab("") +
ylab("Percent") +
ggtitle(paste("Contribution to CPI for ", MaxMonth, ", ", MaxYear, ", ", "Annualized", sep="")) +
theme(
panel.grid.major.y = element_blank(),
plot.title.position = "plot",
panel.border = element_blank(),
axis.ticks.y = element_blank()
)
ggsave("inflation_graphic_2.png")
################# GRAPHIC THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="dark red", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#228b22", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="blue", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#8b0000;'>Last Month</span>, <span style = 'color:blue;'>Three Months</span>, and <span style = 'color:#228b22;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
create_weights(item_basket)
create_weights(cpi, item_basket)
item_basket <- c("All items", "New and used motor vehicles", "Services less energy services", "Medical care services", "Food", "Energy")
cpi <- cpi_data %>%
filter(period != "M13") %>%
filter(seasonal == "S") %>%
arrange(date) %>%
group_by(item_name) %>%
mutate(Pchange1 = (value/lag(value)-1)) %>%
mutate(Wchange1 = (Pchange1*weight)/100) %>%
mutate(Wchange1a = (1 + Wchange1)^12 - 1) %>%
mutate(Pchange3 = (value/lag(value, 3)-1)) %>%
mutate(Wchange3 = (Pchange3*weight)/100) %>%
mutate(Wchange3a = (1 + Wchange3)^4 - 1) %>%
mutate(Pchange12 = (value/lag(value, 12)-1)) %>%
mutate(Wchange12 = (Pchange12*weight)/100)
cpi <- cpi %>%
filter(item_name %in% item_basket) %>%
filter(date == max(date))
cpi <- cpi %>%
ungroup() %>%
arrange(Wchange1) %>%
mutate(g2_item_name=factor(item_name, item_name))
MaxMonth <- format(cpi$date[1], "%B")
MaxYear <- format(cpi$date[1], "%Y")
################# GRAPHIC TWO: LAST MONTH'S CONTRIBUTORS ###########################
ggplot(cpi, aes(x=g2_item_name, y=Wchange1a)) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=0, yend=Wchange1a), color="red") +
geom_point( color="dark red", size=3) +
theme_light() +
coord_flip() +
xlab("") +
ylab("Percent") +
ggtitle(paste("Contribution to CPI for ", MaxMonth, ", ", MaxYear, ", ", "Annualized", sep="")) +
theme(
panel.grid.major.y = element_blank(),
plot.title.position = "plot",
panel.border = element_blank(),
axis.ticks.y = element_blank()
)
ggsave("inflation_graphic_2.png")
################# GRAPHIC THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="dark red", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#228b22", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="blue", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#8b0000;'>Last Month</span>, <span style = 'color:blue;'>Three Months</span>, and <span style = 'color:#228b22;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
item_basket <- c("All items", "New and used motor vehicles", "Shelter", "Services less energy services", "Medical care services", "Food", "Energy")
cpi <- cpi_data %>%
filter(period != "M13") %>%
filter(seasonal == "S") %>%
arrange(date) %>%
group_by(item_name) %>%
mutate(Pchange1 = (value/lag(value)-1)) %>%
mutate(Wchange1 = (Pchange1*weight)/100) %>%
mutate(Wchange1a = (1 + Wchange1)^12 - 1) %>%
mutate(Pchange3 = (value/lag(value, 3)-1)) %>%
mutate(Wchange3 = (Pchange3*weight)/100) %>%
mutate(Wchange3a = (1 + Wchange3)^4 - 1) %>%
mutate(Pchange12 = (value/lag(value, 12)-1)) %>%
mutate(Wchange12 = (Pchange12*weight)/100)
cpi <- cpi %>%
filter(item_name %in% item_basket) %>%
filter(date == max(date))
cpi <- cpi %>%
ungroup() %>%
arrange(Wchange1) %>%
mutate(g2_item_name=factor(item_name, item_name))
MaxMonth <- format(cpi$date[1], "%B")
MaxYear <- format(cpi$date[1], "%Y")
################# GRAPHIC TWO: LAST MONTH'S CONTRIBUTORS ###########################
ggplot(cpi, aes(x=g2_item_name, y=Wchange1a)) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=0, yend=Wchange1a), color="red") +
geom_point( color="dark red", size=3) +
theme_light() +
coord_flip() +
xlab("") +
ylab("Percent") +
ggtitle(paste("Contribution to CPI for ", MaxMonth, ", ", MaxYear, ", ", "Annualized", sep="")) +
theme(
panel.grid.major.y = element_blank(),
plot.title.position = "plot",
panel.border = element_blank(),
axis.ticks.y = element_blank()
)
ggsave("inflation_graphic_2.png")
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="dark red", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#228b22", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="blue", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#8b0000;'>Last Month</span>, <span style = 'color:blue;'>Three Months</span>, and <span style = 'color:#228b22;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
item_basket <- c("All items", "New and used motor vehicles", "Shelter", "Other services", "Medical care services", "Food", "Energy")
cpi <- cpi_data %>%
filter(period != "M13") %>%
filter(seasonal == "S") %>%
arrange(date) %>%
group_by(item_name) %>%
mutate(Pchange1 = (value/lag(value)-1)) %>%
mutate(Wchange1 = (Pchange1*weight)/100) %>%
mutate(Wchange1a = (1 + Wchange1)^12 - 1) %>%
mutate(Pchange3 = (value/lag(value, 3)-1)) %>%
mutate(Wchange3 = (Pchange3*weight)/100) %>%
mutate(Wchange3a = (1 + Wchange3)^4 - 1) %>%
mutate(Pchange12 = (value/lag(value, 12)-1)) %>%
mutate(Wchange12 = (Pchange12*weight)/100)
cpi <- cpi %>%
filter(item_name %in% item_basket) %>%
filter(date == max(date))
cpi <- cpi %>%
ungroup() %>%
arrange(Wchange1) %>%
mutate(g2_item_name=factor(item_name, item_name))
MaxMonth <- format(cpi$date[1], "%B")
MaxYear <- format(cpi$date[1], "%Y")
################# GRAPHIC TWO: LAST MONTH'S CONTRIBUTORS ###########################
ggplot(cpi, aes(x=g2_item_name, y=Wchange1a)) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=0, yend=Wchange1a), color="red") +
geom_point( color="dark red", size=3) +
theme_light() +
coord_flip() +
xlab("") +
ylab("Percent") +
ggtitle(paste("Contribution to CPI for ", MaxMonth, ", ", MaxYear, ", ", "Annualized", sep="")) +
theme(
panel.grid.major.y = element_blank(),
plot.title.position = "plot",
panel.border = element_blank(),
axis.ticks.y = element_blank()
)
ggsave("inflation_graphic_2.png")
################# GRAPHIC THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="dark red", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#228b22", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="blue", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#8b0000;'>Last Month</span>, <span style = 'color:blue;'>Three Months</span>, and <span style = 'color:#228b22;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
item_basket <- c("All items", "New and used motor vehicles", "Shelter", "Other services", "Medical care services", "Food", "Energy", "Commodities less food and energy commodities")
cpi <- cpi_data %>%
filter(period != "M13") %>%
filter(seasonal == "S") %>%
arrange(date) %>%
group_by(item_name) %>%
mutate(Pchange1 = (value/lag(value)-1)) %>%
mutate(Wchange1 = (Pchange1*weight)/100) %>%
mutate(Wchange1a = (1 + Wchange1)^12 - 1) %>%
mutate(Pchange3 = (value/lag(value, 3)-1)) %>%
mutate(Wchange3 = (Pchange3*weight)/100) %>%
mutate(Wchange3a = (1 + Wchange3)^4 - 1) %>%
mutate(Pchange12 = (value/lag(value, 12)-1)) %>%
mutate(Wchange12 = (Pchange12*weight)/100)
cpi <- cpi %>%
filter(item_name %in% item_basket) %>%
filter(date == max(date))
cpi <- cpi %>%
ungroup() %>%
arrange(Wchange1) %>%
mutate(g2_item_name=factor(item_name, item_name))
MaxMonth <- format(cpi$date[1], "%B")
MaxYear <- format(cpi$date[1], "%Y")
################# GRAPHIC TWO: LAST MONTH'S CONTRIBUTORS ###########################
ggplot(cpi, aes(x=g2_item_name, y=Wchange1a)) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=0, yend=Wchange1a), color="red") +
geom_point( color="dark red", size=3) +
theme_light() +
coord_flip() +
xlab("") +
ylab("Percent") +
ggtitle(paste("Contribution to CPI for ", MaxMonth, ", ", MaxYear, ", ", "Annualized", sep="")) +
theme(
panel.grid.major.y = element_blank(),
plot.title.position = "plot",
panel.border = element_blank(),
axis.ticks.y = element_blank()
)
ggsave("inflation_graphic_2.png")
################# GRAPHIC THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="dark red", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#228b22", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="blue", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#8b0000;'>Last Month</span>, <span style = 'color:blue;'>Three Months</span>, and <span style = 'color:#228b22;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
item_basket <- c('All items less food and energy', 'Commodities less food and energy commodities', 'Services less energy services')
cpi_line <- create_basket(cpi_data, item_basket, "2015-01-01", annualize = TRUE)
b <- create_weights(cpi_data, item_basket)
cpi_line
# GRAPHIC ONE: # Plot
ggplot()+
geom_line(data=cpi_line,aes(y=Commodities_less_food_and_energy_commodities, x=date, colour="Core Commodities"), size=1) +
geom_line(data=cpi_line,aes(y=Services_less_energy_services, x=date, colour="Core Services"),size=1) +
scale_color_manual(name = "Inflation", values = c("Core Commodities" = "darkgreen", "Core Services" = "red")) +
geom_hline(yintercept=0) +
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Monthly Contribution to Core CPI Inflation, <span style = 'color:red;'>Core Services</span> and <span style = 'color:darkgreen;'>Core Commodities</span>, Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
theme(legend.position = "none") +
labs(x ="", y = "")
ggsave("inflation_graphic_1.png")
item_basket <- cpi_data %>%
filter(display_level == 0) %>%
select(item_name)
item_basket <- unique(item_basket)
item_basket <- t(item_basket)
item_basket <- c("All items", "New and used motor vehicles", "Shelter", "Other services", "Medical care services", "Food", "Energy", "Commodities less food and energy commodities")
cpi <- cpi_data %>%
filter(period != "M13") %>%
filter(seasonal == "S") %>%
arrange(date) %>%
group_by(item_name) %>%
mutate(Pchange1 = (value/lag(value)-1)) %>%
mutate(Wchange1 = (Pchange1*weight)/100) %>%
mutate(Wchange1a = (1 + Wchange1)^12 - 1) %>%
mutate(Pchange3 = (value/lag(value, 3)-1)) %>%
mutate(Wchange3 = (Pchange3*weight)/100) %>%
mutate(Wchange3a = (1 + Wchange3)^4 - 1) %>%
mutate(Pchange12 = (value/lag(value, 12)-1)) %>%
mutate(Wchange12 = (Pchange12*weight)/100)
cpi <- cpi %>%
filter(item_name %in% item_basket) %>%
filter(date == max(date))
cpi <- cpi %>%
ungroup() %>%
arrange(Wchange1) %>%
mutate(g2_item_name=factor(item_name, item_name))
MaxMonth <- format(cpi$date[1], "%B")
MaxYear <- format(cpi$date[1], "%Y")
################# GRAPHIC TWO: LAST MONTH'S CONTRIBUTORS ###########################
ggplot(cpi, aes(x=g2_item_name, y=Wchange1a)) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=0, yend=Wchange1a), color="red") +
geom_point( color="dark red", size=3) +
theme_light() +
coord_flip() +
xlab("") +
ylab("Percent") +
ggtitle(paste("Contribution to CPI for ", MaxMonth, ", ", MaxYear, ", ", "Annualized", sep="")) +
theme(
panel.grid.major.y = element_blank(),
plot.title.position = "plot",
panel.border = element_blank(),
axis.ticks.y = element_blank()
)
ggsave("inflation_graphic_2.png")
################# GRAPHIC THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="dark red", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#228b22", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="blue", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#8b0000;'>Last Month</span>, <span style = 'color:blue;'>Three Months</span>, and <span style = 'color:#228b22;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
################# GRAPHIC THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="#6d0000", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#ffd4b6", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="#b77051", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#6d0000;'>Last Month</span>, <span style = 'color:#b77051;'>Three Months</span>, and <span style = 'color:#ffd4b6;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
################# GRAPHIC THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="#ff0000", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="#ff735b", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#ffb3a6", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#ff0000;'>Last Month</span>, <span style = 'color:#ff735b;'>Three Months</span>, and <span style = 'color:#ffb3a6;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
THREE: OVER PAST YEAR ###########################
ggplot(cpi) +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange12), color="grey") +
geom_segment( aes(x=g2_item_name, xend=g2_item_name, y=Wchange1a, yend=Wchange3a), color="grey") +
geom_point( aes(x=g2_item_name, y=Wchange1a), color="#8b0000", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange3a), color="#ff735b", size=3 ) +
geom_point( aes(x=g2_item_name, y=Wchange12), color="#ffb3a6", size=3 ) +
coord_flip()+
theme_light() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_markdown()) +
ggtitle("Contribution to CPI Inflation, <span style = 'color:#8b0000;'>Last Month</span>, <span style = 'color:#ff735b;'>Three Months</span>, and <span style = 'color:#ffb3a6;'>Twelve Months</span>, all Annualized") +
theme(
panel.grid.major.y = element_blank(),
panel.border = element_blank(),
plot.title.position = "plot",
axis.ticks.y = element_blank()
) +
xlab("") +
ylab("Percent") +
geom_hline(yintercept=0, linetype="solid", color = "black", alpha=0.5)
ggsave("inflation_graphic_3.png")
